# dbt-spark Changelog

- This file provides a full account of all changes to `dbt-spark`.
- Changes are listed under the (pre)release in which they first appear. Subsequent releases include changes from previous releases.
- "Breaking changes" listed under a version may require action from end users or external maintainers when upgrading to that version.
- Do not edit this file directly. This file is auto-generated using [changie](https://github.com/miniscruff/changie). For details on how to document a change, see [the contributing guide](https://github.com/dbt-labs/dbt-spark/blob/main/CONTRIBUTING.md#adding-changelog-entry)

## dbt-spark 1.5.0-b3 - March 16, 2023

### Features

- Enforce contracts on models materialized as tables and views ([#639](https://github.com/dbt-labs/dbt-spark/issues/639), [#654](https://github.com/dbt-labs/dbt-spark/issues/654))

### Fixes

- Use take() instead of collect on dataframe to improve the performance ([#526](https://github.com/dbt-labs/dbt-spark/issues/526))
- Fix pyodbc type_code -> data_type conversion  ([#665](https://github.com/dbt-labs/dbt-spark/issues/665))

### Contributors
- [@akashrn5](https://github.com/akashrn5) ([#526](https://github.com/dbt-labs/dbt-spark/issues/526))


## dbt-spark 1.5.0-b2 - March 03, 2023

### Fixes

- Support for iceberg v2 tables.  Added ability to use multiple join conditions to allow for multiple columns to make a row distinct. ([#294](https://github.com/dbt-labs/dbt-spark/issues/294))

### Under the Hood

- Rename constraints_enabled to contract ([#645](https://github.com/dbt-labs/dbt-spark/issues/645))

### Contributors
- [@dparent1](https://github.com/dparent1) ([#294](https://github.com/dbt-labs/dbt-spark/issues/294))

## dbt-spark 1.5.0-b1 - February 22, 2023

### Features

- Support for data types constraints in Spark following the dbt Core feature #6271 ([#558](https://github.com/dbt-labs/dbt-spark/issues/558))

### Fixes

- add merge_exclude_columns tests ([#00](https://github.com/dbt-labs/dbt-spark/issues/00))

### Under the Hood

- remove tox call to integration tests ([#584](https://github.com/dbt-labs/dbt-spark/issues/584))

### Dependencies

- Allow thrift 0.16.0 ([#605](https://github.com/dbt-labs/dbt-spark/pull/605))

### Contributors
- [@b-per](https://github.com/b-per) ([#558](https://github.com/dbt-labs/dbt-spark/issues/558))
- [@dave-connors-3](https://github.com/dave-connors-3) ([#00](https://github.com/dbt-labs/dbt-spark/issues/00))

## Previous Releases
For information on prior major and minor releases, see their changelogs:
- [1.4](https://github.com/dbt-labs/dbt-spark/blob/1.4.latest/CHANGELOG.md)
- [1.3](https://github.com/dbt-labs/dbt-spark/blob/1.3.latest/CHANGELOG.md)
- [1.2](https://github.com/dbt-labs/dbt-spark/blob/1.2.latest/CHANGELOG.md)
- [1.1](https://github.com/dbt-labs/dbt-spark/blob/1.1.latest/CHANGELOG.md)
- [1.0](https://github.com/dbt-labs/dbt-spark/blob/1.0.latest/CHANGELOG.md)
- [0.21](https://github.com/dbt-labs/dbt-spark/blob/0.21.latest/CHANGELOG.md)
- [0.20](https://github.com/dbt-labs/dbt-spark/blob/0.20.latest/CHANGELOG.md)
- [0.19 and earlier](https://github.com/dbt-labs/dbt-spark/blob/0.19.latest/CHANGELOG.md)
