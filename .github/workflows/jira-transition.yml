# **what?**
# Transition a Jira issue to a new state
# Only supports these GitHub Issue transitions:
#   closed, deleted, reopened

# **why?**
# Jira needs to be kept up-to-date

# **when?**
# On issue closing, deletion, reopened

name: Jira Issue Transition

on:
  issues:
    types: [closed, deleted, reopened]

# no special access is needed
permissions: read-all

jobs:
  call-label-action:
    uses: dbt-labs/actions/.github/workflows/jira-transition.yml@main
    with:
      project_key: ADAP
    secrets:
      JIRA_BASE_URL: ${{ secrets.JIRA_BASE_URL }}
      JIRA_USER_EMAIL: ${{ secrets.JIRA_USER_EMAIL }}
      JIRA_API_TOKEN: ${{ secrets.JIRA_API_TOKEN }}
